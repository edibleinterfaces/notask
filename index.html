<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta 
    name=viewport 
    content="width=device-width,initial-scale=1,user-scalable=no">
    <meta 
    name=apple-mobile-web-app-capable 
    content=yes>
    <title>no-taskv2</title>
    <link rel=stylesheet href=/static/assets/css/font-awesome-4.7.0/css/font-awesome.min.css>
    <style>
        html,
        body,
        #app {
            height: 100%;
            width: 100%;
        }
        body, 
        body * {
            box-sizing: border-box;
        }
        body {
            margin: 0;
            padding: 0;
            font-family: "Open Sans",Arial,"sans-serif";
        }
        #app {
            overflow-y: scroll;
        }
    </style>
  </head>
  <body>
    <div id="app"></div>
    <script type="text/javascript">

		// disable scrolling 
		var touchTarget,
			touchScreenX,
			touchScreenY,
			conditionParentUntilTrue,
			disableScroll,
			scrollMap;

		conditionParentUntilTrue = function (element, condition) {
			var outcome;

			if (element === document.body) {
				return false;
			}

			outcome = condition(element);

			if (outcome) {
				return true;
			} else {
				return conditionParentUntilTrue(element.parentNode, condition);
			}
		};

		window.addEventListener('touchstart', function (e) {
			touchTarget = e.targetTouches[0].target;
			// a boolean map indicating if the element (or either of element parents, excluding the document.body) can be scrolled to the X direction.
			scrollMap = {}

			scrollMap.left = conditionParentUntilTrue(touchTarget, function (element) {
				return element.scrollLeft > 0;
			});

			scrollMap.top = conditionParentUntilTrue(touchTarget, function (element) {
				return element.scrollTop > 0;
			});

			scrollMap.right = conditionParentUntilTrue(touchTarget, function (element) {
				return element.scrollWidth > element.clientWidth &&
					   element.scrollWidth - element.clientWidth > element.scrollLeft;
			});

			scrollMap.bottom =conditionParentUntilTrue(touchTarget, function (element) {
				return element.scrollHeight > element.clientHeight &&
					   element.scrollHeight - element.clientHeight > element.scrollTop;
			});

			touchScreenX = e.targetTouches[0].screenX;
			touchScreenY = e.targetTouches[0].screenY;
			disableScroll = false;
		});

		window.addEventListener('touchmove', function (e) {
			var moveScreenX,
				moveScreenY;

			if (disableScroll) {
				e.preventDefault();

				return;
			}

			moveScreenX = e.targetTouches[0].screenX;
			moveScreenY = e.targetTouches[0].screenY;

			if (
				moveScreenX > touchScreenX && scrollMap.left ||
				moveScreenY < touchScreenY && scrollMap.bottom ||
				moveScreenX < touchScreenX && scrollMap.right ||
				moveScreenY > touchScreenY && scrollMap.top
			) {
				// You are scrolling either the element or its parent.
				// This will not affect document.body scroll.
			} else {
				// This will affect document.body scroll.

				e.preventDefault();

				disableScroll = true;
			}
		});
    </script>
  </body>
</html>
